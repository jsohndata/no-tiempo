<!DOCTYPE html>
<html>
<head>
  <title>Mozart's Ghost</title>
</head>
<body>
  <p>Redirecting...</p>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get('id');

      const redirectUrls = {
        '0':  'https://www.youtube.com/watch?v=hoWEYBSlctc',
        '1':  'https://jsohndata.github.io/full-background-box-centered/',
        'fuego':  'https://assenfuego.com/',
        'seoul':  'https://jsohndata.github.io/bluenight-in-seoul/',
        'krdsv':  'https://jsohndata.github.io/kardashev-scale/',
        '5':  'https://jsohndata.github.io/bubble-trails/',
        '6':  'https://system-overload-solution.web.app/',
        '7':  'https://jsohndata.github.io/magic-color-xxl/',
        '8':  'https://jsohndata.github.io/cogito-ergo-sum/',
        '9':  'https://jsohndata.com',
        '10': 'https://jsohndata.github.io/synthational/',
        '11': 'https://jsohndata.github.io/no-tiempo',
        '12': 'https://jsohndata.github.io/terra-mater-css-animation/',
        '13': 'https://jsohndata.github.io/late-night-background-jam/#/page3',
        '14': 'https://jsohndata.github.io/who-what-where-quiz-app/',
        '15': 'https://jsohndata.github.io/star-music/',
        '16': 'https://jsohndata.github.io/bocacode-c9-final-project-portfolio/',
        '17': 'https://jsohndata.github.io/bocacode-c10-final-project-portfolio/',
        '18': 'https://jsohndata.github.io/gas-generative-ai-story/',
        '19': 'https://jsohndata.github.io/fortune-cookie/',
        '20': 'https://jsohndata.github.io/pulsating-circle/',
      };

      // Get the keys of the redirectUrls object
      const keys = Object.keys(redirectUrls);
      const totalIds = keys.length;

      // Determine the target URL
      const targetUrl = (function() {
          switch (true) {
              // Random redirect
              case id === 'r':
                  return redirectUrls[keys[Math.floor(Math.random() * totalIds)]];

              // Valid ID, use the next ID for redirection
              case id in redirectUrls:
                  const currentIndex = keys.indexOf(id);
                  const nextIndex = (currentIndex + 1) % totalIds;
                  const nextId = keys[nextIndex];
                  return redirectUrls[nextId];

              // Alert the Sum Total
              case id === 'sum':
                  alert(`Next ID: ${totalIds}`);
                  return redirectUrls['2'];

              // Catch All
              default:
                  return redirectUrls['2'];
          }
      })();

      // Redirect to the target URL
      if (targetUrl) {
          window.location.href = targetUrl;
      } else {
          document.body.innerText = 'Invalid ID';
      }
    });
  </script>
</body>
</html>
